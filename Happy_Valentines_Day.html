<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Valentine Surprise for Nisa</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&amp;family=Playfair+Display:wght@400;600&amp;family=Caveat:wght@400;700&amp;display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
    }
    
    .dancing { font-family: 'Dancing Script', cursive; }
    .playfair { font-family: 'Playfair Display', serif; }
    .caveat { font-family: 'Caveat', cursive; }
    
    /* Stars animation */
    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      animation: twinkle 2s ease-in-out infinite;
    }
    
    @keyframes twinkle {
      0%, 100% { opacity: 0.3; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.2); }
    }
    
    /* Lamppost glow */
    .lamp-glow {
      position: absolute;
      width: 200px;
      height: 200px;
      background: radial-gradient(circle, rgba(255, 214, 102, 0.6) 0%, rgba(255, 214, 102, 0) 70%);
      top: 60px;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 0.8s ease;
      pointer-events: none;
    }
    
    .lamp-on .lamp-glow {
      opacity: 1;
      animation: flicker 3s ease-in-out infinite;
    }
    
    @keyframes flicker {
      0%, 100% { opacity: 0.8; }
      50% { opacity: 1; }
      25%, 75% { opacity: 0.9; }
    }
    
    /* Ground light */
    .ground-light {
      position: absolute;
      width: 300px;
      height: 100px;
      background: radial-gradient(ellipse, rgba(255, 214, 102, 0.3) 0%, rgba(255, 214, 102, 0) 70%);
      bottom: 80px;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 0.8s ease;
    }
    
    .lamp-on .ground-light {
      opacity: 1;
    }
    
    /* Lamp bulb */
    .lamp-bulb {
      fill: #4a4a4a;
      transition: fill 0.5s ease;
    }
    
    .lamp-on .lamp-bulb {
      fill: #ffd666;
      filter: drop-shadow(0 0 10px #ffd666) drop-shadow(0 0 20px #ffa500);
    }
    
    /* Heart particles */
    .heart-particle {
      position: absolute;
      font-size: 20px;
      opacity: 0;
      animation: floatUp 3s ease-out forwards;
    }
    
    @keyframes floatUp {
      0% { opacity: 0; transform: translateY(0) scale(0); }
      20% { opacity: 1; transform: translateY(-20px) scale(1); }
      100% { opacity: 0; transform: translateY(-150px) scale(0.5); }
    }
    
    /* Page transitions */
    .page {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.8s ease;
    }
    
    .page.active {
      opacity: 1;
      pointer-events: auto;
    }
    
    /* Runaway button */
    .runaway-btn {
      transition: transform 0.2s ease;
      position: relative;
    }
    
    /* Floating hearts background */
    .floating-heart {
      position: absolute;
      font-size: 24px;
      opacity: 0.2;
      animation: float 6s ease-in-out infinite;
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(10deg); }
    }
    
    /* Envelope animation */
    .envelope {
      animation: envelopeFloat 3s ease-in-out infinite;
    }
    
    @keyframes envelopeFloat {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    
    @keyframes confettiFall {
      to {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0;
      }
    }

    .confetti-piece {
      position: fixed;
      pointer-events: none;
      animation: confettiFall 3s ease-in forwards;
    }
    
    /* Stars enhancement */
    .star.extra-star {
      animation: twinkle-bright 1.5s ease-in-out infinite;
    }
    
    @keyframes twinkle-bright {
      0%, 100% { opacity: 0.6; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.3); }
    }
    
    /* Moon glow */
    .moon-glow {
      position: absolute;
      width: 120px;
      height: 120px;
      background: radial-gradient(circle, rgba(255, 250, 205, 0.6) 0%, rgba(255, 250, 205, 0) 70%);
      border-radius: 50%;
      opacity: 0;
      transition: opacity 0.8s ease;
      pointer-events: none;
    }
    
    .lamp-on ~ .moon-glow,
    .moon-container.brightened .moon-glow {
      opacity: 1;
      animation: moonGlowPulse 2s ease-in-out infinite;
    }
    
    @keyframes moonGlowPulse {
      0%, 100% { opacity: 0.8; }
      50% { opacity: 1; }
    }
    
    .surprise-btn {
      background: linear-gradient(135deg, #667eea, #764ba2);
      box-shadow: 0 10px 35px rgba(102, 126, 234, 0.6);
      border: 4px solid white;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .surprise-btn:hover {
      transform: scale(1.1);
    }
  </style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com/3.4.17" type="text/javascript"></script>
 </head>
 <body class="h-full m-0 p-0 overflow-hidden">
  <div id="app" class="w-full h-full relative"><!-- Page 1: Lamppost Scene -->
   <div id="page1" class="page active">
    <div class="w-full h-full relative overflow-hidden" style="background: linear-gradient(to bottom, #0a0a1a 0%, #1a1a3a 50%, #2d2d4a 100%);"><!-- Stars -->
     <div id="stars"></div><!-- Moon -->
     <div class="moon-container absolute top-8 right-12" style="z-index: 2;">
      <div class="moon-glow"></div>
      <div class="w-16 h-16 rounded-full relative" style="background: radial-gradient(circle at 30% 30%, #ffffff, #f5f5f0); box-shadow: 0 0 30px rgba(255, 255, 255, 0.6); transition: box-shadow 0.8s ease; z-index: 3;">
       <div class="absolute inset-0 rounded-full opacity-0 transition-opacity duration-800" id="moon-bright" style="box-shadow: 0 0 60px rgba(255, 255, 255, 1), 0 0 100px rgba(220, 220, 255, 0.8);"></div>
      </div>
     </div><!-- Lamppost container -->
     <div id="lamppost" class="absolute left-1/2 bottom-20 cursor-pointer" style="transform: translateX(-50%);">
      <div class="lamp-glow"></div>
      <div class="ground-light"></div>
      <svg width="120" height="320" viewbox="0 0 120 320"><rect x="55" y="80" width="10" height="240" fill="#2d2d2d" /> <rect x="53" y="80" width="14" height="10" rx="2" fill="#3d3d3d" /> <rect x="50" y="310" width="20" height="10" rx="2" fill="#3d3d3d" /> <path d="M30 80 L90 80 L85 60 L75 45 L45 45 L35 60 Z" fill="#2d2d2d" /> <ellipse cx="60" cy="80" rx="30" ry="8" fill="#3d3d3d" /> <ellipse class="lamp-bulb" cx="60" cy="70" rx="15" ry="12" /> <circle cx="60" cy="45" r="5" fill="#3d3d3d" />
      </svg>
      <div id="click-hint" class="absolute -bottom-2 left-1/2 transform -translate-x-1/2 text-white text-sm dancing opacity-70 whitespace-nowrap animate-pulse">
       ‚ú® Touch the lamp ‚ú®
      </div>
     </div><!-- Bench -->
     <div class="absolute bottom-16 left-1/2 transform -translate-x-1/2" style="margin-left: 100px;">
      <svg width="140" height="80" viewbox="0 0 140 80"><rect x="10" y="30" width="120" height="12" rx="3" fill="#5d4037" /> <rect x="10" y="25" width="120" height="8" rx="2" fill="#6d4c41" /> <rect x="15" y="5" width="110" height="8" rx="2" fill="#5d4037" /> <rect x="15" y="15" width="110" height="8" rx="2" fill="#5d4037" /> <rect x="20" y="42" width="8" height="35" rx="2" fill="#4e342e" /> <rect x="112" y="42" width="8" height="35" rx="2" fill="#4e342e" /> <rect x="20" y="5" width="6" height="25" rx="1" fill="#4e342e" /> <rect x="114" y="5" width="6" height="25" rx="1" fill="#4e342e" />
      </svg>
     </div><!-- Message on bench area -->
     <div id="bench-message" class="absolute bottom-32 left-1/2 transform -translate-x-1/2 text-center opacity-0 transition-opacity duration-1000" style="margin-left: 100px;">
      <p id="bench-text" class="dancing text-2xl text-white mb-4" style="text-shadow: 0 0 10px rgba(255, 214, 102, 0.8);">Hello ma'am</p>
      <p class="caveat text-lg text-pink-300 italic mb-6">Wish you were here...</p><button id="hold-hand-btn" class="px-8 py-3 rounded-full dancing text-xl text-white transition-all duration-300 hover:scale-105" style="background: linear-gradient(135deg, #e75480, #ff6b9d); box-shadow: 0 4px 15px rgba(231, 84, 128, 0.4);"> Come on, hold my hand üíï </button>
     </div><!-- Ground -->
     <div class="absolute bottom-0 left-0 right-0 h-20" style="background: linear-gradient(to bottom, #1a1a2e, #0f0f1a);"></div><!-- Heart particles container -->
     <div id="heart-particles"></div>
    </div>
   </div><!-- Page 2: Vintage Letter Envelope -->
   <div id="page2" class="page">
    <div class="w-full h-full relative overflow-auto flex items-center justify-center" style="background: linear-gradient(135deg, #2d1a1a 0%, #3d2a2a 50%, #1a1a2d 100%);">
     <div id="envelope-container" class="max-w-md w-full relative cursor-pointer" style="perspective: 1000px;">
      <div class="relative" style="background: linear-gradient(135deg, #f5e6d3 0%, #e8d7c3 100%); border: 3px solid #8b7355; box-shadow: 0 20px 60px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,255,255,0.5); padding: 40px; text-align: center; border-radius: 4px; transform-style: preserve-3d; transition: transform 0.6s;">
       <div class="relative z-10">
        <div class="text-3xl mb-6" style="color: #8b4513;">
         ‚ú¶ ‚ú¶ ‚ú¶
        </div>
        <div class="mb-8">
         <p class="caveat text-lg" style="color: #5d4037; letter-spacing: 2px;">To,</p>
         <p class="dancing text-3xl" style="color: #8b4513; text-shadow: 0 2px 4px rgba(0,0,0,0.1);">My MonaNisa</p>
        </div>
        <div class="my-8 text-5xl cursor-pointer hover:scale-110 transition-transform" id="envelope-seal">
         üíå
        </div>
        <div class="mt-8">
         <p class="caveat text-lg" style="color: #5d4037; letter-spacing: 2px;">From,</p>
         <p class="dancing text-xl" style="color: #8b4513;">Yours Twinkie l.....</p>
        </div>
        <div class="text-3xl mt-6" style="color: #8b4513;">
         ‚ú¶ ‚ú¶ ‚ú¶
        </div>
       </div>
      </div>
     </div>
     <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 text-center">
      <p class="dancing text-white opacity-70 animate-pulse">Click the seal to open üíå</p>
     </div>
    </div>
   </div><!-- Page 2b: Letter Content -->
   <div id="page2b" class="page">
    <div class="w-full h-full relative overflow-auto" style="background: linear-gradient(135deg, #1a0a1a 0%, #2d1a2d 50%, #1a0a2d 100%);">
     <div id="floating-hearts"></div>
     <div class="min-h-full flex items-center justify-center p-6">
      <div class="max-w-lg w-full relative">
       <div class="envelope text-center mb-6">
        <span class="text-6xl">üíå</span>
       </div>
       <div class="relative p-8 rounded-lg" style="background: linear-gradient(135deg, #fff9f0, #fff5e6); box-shadow: 0 10px 40px rgba(0,0,0,0.3);">
        <div class="absolute top-2 right-2 text-2xl opacity-30">
         ‚ù§Ô∏è
        </div>
        <div class="absolute bottom-2 left-2 text-2xl opacity-30">
         üíï
        </div>
        <div class="playfair text-gray-800">
         <p class="dancing text-3xl text-pink-600 mb-6">Dear Nisa,</p>
         <div class="space-y-4 text-lg leading-relaxed" style="color: #4a4a4a;">
          <p>It's our very first Valentine's Day together. I wish you were right in front of me, and I wish I could ask you this in person‚Äîlooking into your eyes <span class="italic">(even though your glasses might interrupt a little)</span>, with my heart pounding fast.</p>
          <p>So here I am, asking you the only way I can right now‚Ä¶</p>
         </div>
         <p class="dancing text-2xl text-pink-600 mt-8 text-center">Will you be my Valentine, my love? üíó</p>
        </div>
        <div class="mt-10 flex flex-col items-center gap-4 relative" style="min-height: 120px;"><button id="yes-btn" class="px-12 py-4 rounded-full dancing text-2xl text-white transition-all duration-300 hover:scale-110" style="background: linear-gradient(135deg, #e75480, #ff6b9d); box-shadow: 0 6px 20px rgba(231, 84, 128, 0.5);"> Yes! üíñ </button> <button id="no-btn" class="runaway-btn px-6 py-2 rounded-full dancing text-lg transition-all duration-200" style="background: #ffffff; color: #666; border: 3px solid #e75480; font-weight: 600; box-shadow: 0 4px 12px rgba(0,0,0,0.15);"> Hey, why are you looking for another option? :V </button>
        </div>
       </div>
      </div>
     </div>
    </div>
   </div><!-- Page 3: Yes response celebration -->
   <div id="page3" class="page">
    <div class="w-full h-full relative overflow-auto" style="background: linear-gradient(135deg, #ff6b9d 0%, #ff9a9e 50%, #fecfef 100%);">
     <div id="confetti-container"></div>
     <div class="flex justify-center p-6" style="padding-top: 40px; padding-bottom: 60px;">
      <div class="max-w-2xl w-full text-center">
       <div class="mb-12 p-8 rounded-lg" style="background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px); border: 2px solid rgba(255, 255, 255, 0.3);">
        <div class="inline-flex flex-col items-center gap-5">
         <div class="text-6xl animate-bounce">
          üéµ
         </div>
         <p class="dancing text-white text-lg" style="text-shadow: 0 2px 10px rgba(0,0,0,0.3);">Can you copy this link and play it in a new tab? üíï</p>
         <div class="bg-white bg-opacity-90 rounded-lg p-4 max-w-xs break-all" style="font-size: 12px; color: #666; font-family: monospace;">
          https://youtu.be/RNOTF-znQyw?si=-_JkGt18LaRH1jak
         </div>
         <p class="dancing text-white text-sm opacity-80" style="text-shadow: 0 2px 10px rgba(0,0,0,0.3);">i don't know how to code this :v</p>
        </div>
       </div>
       <div class="text-6xl mb-8 animate-bounce">
        üíï
       </div>
       <div class="relative p-8 rounded-2xl" style="background: rgba(255, 255, 255, 0.95); box-shadow: 0 20px 60px rgba(255, 107, 157, 0.3); backdrop-filter: blur(10px);">
        <div class="playfair text-gray-800 space-y-6">
         <p class="dancing text-3xl text-pink-600 mb-8">I just had to say more...</p>
         <p class="leading-relaxed text-base" style="color: #4a4a4a; line-height: 1.8;">I really can't feel the timeline of us. It feels like we've been together for such a long time, like I already have so many memories with you. And yet, when you're away, it feels like I haven't seen you for months. But when I'm with you, all those hours feel so small, like time just slips away.</p>
         <p class="leading-relaxed text-base italic font-semibold" style="color: #e75480;">It's messed up in the most beautiful way.</p>
         <p class="leading-relaxed text-base" style="color: #4a4a4a; line-height: 1.8;">You've become so much to me that I'm struggling to control myself, my surroundings, even my thoughts. All my mind wants is to end up with you. And if that's what love is, then here I am completely in love with you.</p>
         <p class="leading-relaxed text-base" style="color: #4a4a4a; line-height: 1.8;">Look at us. Just a few days ago, what were we? And now look at what we are. It makes me wonder what we will become. I know we still hesitate to say everything that comes to our minds. We hesitate to express ourselves. But somehow, I believe in this thing called time. I believe it will shape something, and we will become something and I want that.</p>
         <p class="leading-relaxed text-base" style="color: #4a4a4a; line-height: 1.8;">Sometimes I'm scared of this love, because I don't know where it will lead us. But I'm choosing it anyway. I don't want regrets for us‚Äîno "what ifs" for a future that doesn't even exist yet. I will love, and I will try my best for this beautiful girl of mine.</p>
         <p class="leading-relaxed text-base italic" style="color: #4a4a4a; line-height: 1.8;">I don't know what to write anymore. There are emotions I don't know how to put into words. So I'll just say</p>
         <p class="dancing text-5xl text-pink-600 my-8 font-bold">Kemon achooo? :3</p>
        </div>
       </div>
       <div class="mt-16 flex justify-center"><button id="final-page-btn" class="px-12 py-5 rounded-full dancing text-2xl text-white transition-all duration-300 hover:scale-110 animate-bounce" style="background: linear-gradient(135deg, #e75480, #ff6b9d); box-shadow: 0 10px 35px rgba(231, 84, 128, 0.8); border: 4px solid white; font-weight: bold;"> Hey, remembered this? üíï </button>
       </div>
       <p class="dancing text-white mt-12 opacity-70 animate-pulse">üëÜ Don't forget this! üëÜ</p>
      </div>
     </div>
    </div>
   </div><!-- Page 4: Transition page -->
   <div id="page4" class="page">
    <div class="w-full h-full relative" style="background: linear-gradient(135deg, #ff6b9d 0%, #ff9a9e 50%, #fecfef 100%); display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 40px;">
     <div class="text-center flex-1 flex items-center justify-center">
      <p class="dancing text-2xl text-white opacity-60" style="text-shadow: 0 2px 10px rgba(0,0,0,0.2);">Your canvas awaits... üí´</p>
     </div><button id="next-page-btn" class="px-6 py-2 rounded-full dancing text-sm text-white transition-all duration-300 hover:scale-105 mb-6" style="background: linear-gradient(135deg, #e75480, #ff6b9d); box-shadow: 0 4px 15px rgba(231, 84, 128, 0.4);"> Next ‚Üí </button>
    </div>
   </div><!-- Page 5: Final page with special content -->
   <div id="page5" class="page">
    <div class="w-full h-full relative" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%); display: flex; align-items: center; justify-content: center; padding: 40px;">
     <div class="max-w-2xl w-full text-center">
      <div class="relative p-8 rounded-2xl mb-8" style="background: rgba(255, 255, 255, 0.95); box-shadow: 0 20px 60px rgba(0,0,0,0.3);">
       <div class="playfair text-gray-800 space-y-4">
        <p class="dancing text-4xl text-pink-600 mb-6">Next, can you go on this link? üíù</p>
        <p class="leading-relaxed text-base" style="color: #4a4a4a; line-height: 1.8;">Again i can't code that :v</p>
       </div>
      </div>
      <div class="relative p-8 rounded-2xl mb-8" style="background: rgba(255, 255, 255, 0.95); box-shadow: 0 20px 60px rgba(0,0,0,0.3); max-width: 600px; margin: 0 auto;"><button id="surprise-btn" class="surprise-btn px-12 py-4 rounded-full dancing text-2xl text-white font-bold"> Open Your Surprise üéÅ </button>
      </div>
      <div class="mt-12 text-4xl space-x-4"><span class="inline-block animate-bounce" style="animation-delay: 0s;">üíï</span> <span class="inline-block animate-bounce" style="animation-delay: 0.2s;">‚ú®</span> <span class="inline-block animate-bounce" style="animation-delay: 0.4s;">üíñ</span>
      </div>
     </div>
    </div>
   </div>
  </div>
  <script>
    const defaultConfig = {
      bench_message: "Hello ma'am",
      button_text: "Wish you were here..."
    };

    let config = { ...defaultConfig };
    let lampOn = false;

    function createStars() {
      const starsContainer = document.getElementById('stars');
      for (let i = 0; i < 150; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        star.style.width = Math.random() * 3 + 0.5 + 'px';
        star.style.height = star.style.width;
        star.style.left = Math.random() * 100 + '%';
        star.style.top = Math.random() * 70 + '%';
        star.style.animationDelay = Math.random() * 2 + 's';
        starsContainer.appendChild(star);
      }
    }

    function addExtraStars() {
      const starsContainer = document.getElementById('stars');
      for (let i = 0; i < 40; i++) {
        const star = document.createElement('div');
        star.className = 'star extra-star';
        star.style.width = Math.random() * 2.5 + 0.5 + 'px';
        star.style.height = star.style.width;
        star.style.left = Math.random() * 100 + '%';
        star.style.top = Math.random() * 50 + '%';
        star.style.animationDelay = Math.random() * 1.5 + 's';
        star.style.opacity = '0.8';
        starsContainer.appendChild(star);
      }
    }

    function createFloatingHearts() {
      const container = document.getElementById('floating-hearts');
      const hearts = ['üíï', 'üíó', 'üíñ', 'üíò', '‚ù§Ô∏è'];
      for (let i = 0; i < 15; i++) {
        const heart = document.createElement('div');
        heart.className = 'floating-heart';
        heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
        heart.style.left = Math.random() * 100 + '%';
        heart.style.top = Math.random() * 100 + '%';
        heart.style.animationDelay = Math.random() * 3 + 's';
        heart.style.fontSize = (Math.random() * 20 + 16) + 'px';
        container.appendChild(heart);
      }
    }

    function createHeartParticle() {
      const container = document.getElementById('heart-particles');
      const heart = document.createElement('div');
      heart.className = 'heart-particle';
      heart.textContent = ['üíï', 'üíó', 'üíñ', '‚ú®'][Math.floor(Math.random() * 4)];
      heart.style.left = (40 + Math.random() * 20) + '%';
      heart.style.bottom = '200px';
      heart.style.animationDelay = Math.random() * 0.5 + 's';
      container.appendChild(heart);
      setTimeout(() => heart.remove(), 3000);
    }

    function createConfetti() {
      const container = document.getElementById('confetti-container');
      const colors = ['üíï', 'üíñ', 'üíó', '‚ú®', 'üí´', '‚≠ê'];
      for (let i = 0; i < 30; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti-piece';
        confetti.textContent = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.left = Math.random() * 100 + '%';
        confetti.style.top = '-20px';
        confetti.style.fontSize = (Math.random() * 20 + 16) + 'px';
        confetti.style.animationDelay = Math.random() * 0.5 + 's';
        container.appendChild(confetti);
        setTimeout(() => confetti.remove(), 3500);
      }
    }

    document.getElementById('lamppost').addEventListener('click', function() {
      if (!lampOn) {
        lampOn = true;
        this.classList.add('lamp-on');
        document.getElementById('click-hint').style.opacity = '0';
        const moonBright = document.getElementById('moon-bright');
        if (moonBright) {
          moonBright.style.opacity = '1';
        }
        const moonContainer = document.querySelector('.moon-container');
        if (moonContainer) {
          moonContainer.classList.add('brightened');
        }
        addExtraStars();
        setTimeout(() => {
          document.getElementById('bench-message').style.opacity = '1';
          const heartInterval = setInterval(createHeartParticle, 500);
          setTimeout(() => clearInterval(heartInterval), 5000);
        }, 800);
      }
    });

    document.getElementById('hold-hand-btn').addEventListener('click', function() {
      document.getElementById('page1').classList.remove('active');
      document.getElementById('page2').classList.add('active');
    });

    document.getElementById('envelope-seal').addEventListener('click', function() {
      document.getElementById('page2').classList.remove('active');
      document.getElementById('page2b').classList.add('active');
    });

    const noBtn = document.getElementById('no-btn');
    let runawayActive = true;

    function moveButton() {
      if (!runawayActive) return;
      const container = noBtn.parentElement;
      const containerRect = container.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();
      const maxX = containerRect.width - btnRect.width - 20;
      const maxY = 80;
      const newX = (Math.random() - 0.5) * maxX;
      const newY = Math.random() * maxY;
      noBtn.style.transform = `translate(${newX}px, ${newY}px)`;
    }

    noBtn.addEventListener('mouseenter', moveButton);
    noBtn.addEventListener('touchstart', function(e) {
      e.preventDefault();
      moveButton();
    });
    noBtn.addEventListener('click', function(e) {
      e.preventDefault();
      moveButton();
    });

    document.getElementById('yes-btn').addEventListener('click', function() {
      runawayActive = false;
      document.getElementById('page2b').classList.remove('active');
      document.getElementById('page3').classList.add('active');
      createConfetti();
    });

    document.getElementById('next-page-btn').addEventListener('click', function() {
      document.getElementById('page4').classList.remove('active');
      document.getElementById('page5').classList.add('active');
    });

    document.getElementById('final-page-btn').addEventListener('click', function() {
      document.getElementById('page3').classList.remove('active');
      document.getElementById('page4').classList.add('active');
    });

    document.getElementById('surprise-btn').addEventListener('click', function() {
      window.open('https://drive.google.com/file/d/1RoTMw6dfC6NKh6Ay1VGFsnXf7acaQwYb/view?usp=sharing', '_blank');
    });

    async function onConfigChange(newConfig) {
      config = { ...defaultConfig, ...newConfig };
      const benchText = document.getElementById('bench-text');
      if (benchText) {
        benchText.textContent = config.bench_message || defaultConfig.bench_message;
      }
    }

    createStars();
    createFloatingHearts();

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities: (cfg) => ({
          recolorables: [],
          borderables: [],
          fontEditable: undefined,
          fontSizeable: undefined
        }),
        mapToEditPanelValues: (cfg) => new Map([
          ["bench_message", cfg.bench_message || defaultConfig.bench_message],
          ["button_text", cfg.button_text || defaultConfig.button_text]
        ])
      });
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9cd64b1f575cb00b',t:'MTc3MTAwNjM0MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>